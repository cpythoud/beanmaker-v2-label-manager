// Generated by BeanMaker V2, on September 19, 2022 at 1:23:32 PM COT
// Library Version #1.0-SNAPSHOT-build#20914

package org.beanmaker.labels;

import java.util.List;

import java.util.stream.Collectors;

import javax.annotation.processing.Generated;

import org.beanmaker.v2.runtime.DbBeanInterface;
import org.beanmaker.v2.runtime.MasterTableCellDefinition;

import org.jcodegen.html.TdTag;
import org.jcodegen.html.ThTag;
import org.jcodegen.html.TrTag;

@Generated(value = "org.beanmaker.v2.codegen.BeanMasterTableViewBaseSourceFile", date = "2022-09-19T18:23:32.429719900Z", comments = "DO-NOT-EDIT,1.0-SNAPSHOT-20914")
abstract sealed class LabelMasterTableViewBase extends LocalMasterTableView permits LabelMasterTableView {

	LabelMasterTableViewBase() {
		super(LabelParameters.INSTANCE.getDatabaseTableName(), LabelParameters.INSTANCE.getLocalization());
	}

	@Override
	protected TrTag getFilterRow() {
		TrTag filterRow = getDefaultStartOfFilterRow();

		if (displayId)
			filterRow.child(getIdFilterCell());
		filterRow.child(getNameFilterCell());

		if (doDataToggle)
			filterRow.child(showMoreLessCell());

		return filterRow;
	}

	ThTag getIdFilterCell() {
		return getStringFilterCell("id");
	}

	ThTag getNameFilterCell() {
		return getStringFilterCell("name");
	}

	@Override
	protected TrTag getTitleRow() {
		TrTag titleRow = getDefaultStartOfTitleRow();

		if (displayId)
			titleRow.child(getIdTitleCell());
		titleRow.child(getNameTitleCell());

		return titleRow;
	}

	ThTag getIdTitleCell() {
		return getTitleCell("id");
	}

	ThTag getNameTitleCell() {
		return getTitleCell("name");
	}

	@Override
	protected List<TrTag> getData() {
		return getLabelInventory().stream().map(this::getTableLine).collect(Collectors.toList());
	}

	List<Label> getLabelInventory() {
		return getBeansInLocalOrder(Label.getAll());
	}

	@Override
	protected long getLineCount() {
		return Label.getCount();
	}

	@Override
	protected <B extends DbBeanInterface> void addDataToLine(TrTag line, B label) {
		FormattedLabelData labelData = new FormattedLabelData((Label) label, dbBeanLocalization);
		line.child(getNameTableCell(labelData));
	}

	TdTag getNameTableCell(FormattedLabelData label) {
		return getTableCell(MasterTableCellDefinition.createTextCellDefinition("name", label.getName()));
	}

}
