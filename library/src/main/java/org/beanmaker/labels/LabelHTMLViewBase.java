// Generated by BeanMaker V2, on January 20, 2025, 12:20:38â€¯PM EST
// Library Version #2.3-SNAPSHOT

package org.beanmaker.labels;

import org.beanmaker.v2.runtime.DbBeanLanguage;
import org.beanmaker.v2.runtime.HFHParameters;
import org.beanmaker.v2.runtime.HttpRequestParameters;

import org.beanmaker.v2.runtime.annotations.DoNotEdit;

import org.jcodegen.html.FormTag;
import org.jcodegen.html.InputTag;
import org.jcodegen.html.Tag;

@DoNotEdit(generator = "org.beanmaker.v2.codegen.BeanHTMLViewBaseSourceFile", version = "2.3-SNAPSHOT", date = "2025-01-20T17:20:38.633378323Z")
abstract class LabelHTMLViewBase extends HTMLView {

	final LabelEditor labelEditor;

	LabelHTMLViewBase(LabelEditor labelEditor, DbBeanLanguage dbBeanLanguage) {
		super(labelEditor, LabelParameters.INSTANCE.getLocalization(dbBeanLanguage));
		labelEditor.setCurrentDbBeanLanguage(dbBeanLanguage);
		this.labelEditor = labelEditor;
	}

	public LabelEditor getLabelEditor() {
		return labelEditor;
	}

	boolean isNameRequiredInHtmlForm() {
		return labelEditor.isNameRequired();
	}

	@Override
	public FormTag getHtmlFormTag() {
		FormTag form = getFormStart();
		composeHiddenSubmitField(form);
		composeNameFormElement(form);
		composeAdditionalHtmlFormFields(form);
		if (!readonly)
			composeButtons(form);

		return form;
	}

	HFHParameters getNameFormElementParameters() {
		HFHParameters params = new HFHParameters();
		params.setField("name");
		params.setIdBean(labelEditor.getId());
		params.setValue(labelEditor.getName());
		params.setFieldLabel(labelEditor.getNameLabel());
		params.setInputType(InputTag.InputType.TEXT);
		params.setRequired(isNameRequiredInHtmlForm());
		params.setReadonly(readonly);
		params.setMaxLength(128);
		return params;
	}

	void composeNameFormElement(Tag form) {
		form.child(htmlFormHelper.getTextField(getNameFormElementParameters()));
	}

	@Override
	public void setAllFields(HttpRequestParameters parameters) {
		reset();

		labelEditor.setName(parameters.getValue("name"));
	}

}
