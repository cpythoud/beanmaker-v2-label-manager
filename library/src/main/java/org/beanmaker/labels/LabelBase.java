// Generated by BeanMaker V2, on September 19, 2022 at 1:23:32 PM COT
// Library Version #1.0-SNAPSHOT-build#20914

package org.beanmaker.labels;

import java.sql.ResultSet;
import java.sql.SQLException;

import java.util.ArrayList;
import java.util.List;

import javax.annotation.processing.Generated;

import org.beanmaker.v2.runtime.DBUtil;
import org.beanmaker.v2.runtime.DbBeanInitializer;
import org.beanmaker.v2.runtime.DbBeanInterface;
import org.beanmaker.v2.runtime.DbBeanLanguage;
import org.beanmaker.v2.runtime.ToStringMaker;

import org.beanmaker.v2.util.Strings;

import org.dbbeans.sql.DBQuerySetup;
import org.dbbeans.sql.DBTransaction;
import org.dbbeans.sql.SQLRuntimeException;

import static org.beanmaker.labels.DbBeans.dbAccess;

@Generated(value = "org.beanmaker.v2.codegen.BeanBaseSourceFile", date = "2022-09-19T18:23:32.419717300Z", comments = "DO-NOT-EDIT,1.0-SNAPSHOT-20914")
abstract sealed class LabelBase implements DbBeanInterface permits Label {

	private final long id;
	private final String name;

	LabelBase(long id) {
		final String[] name = new String[1];
		DbBeanInitializer.initialize(id, LabelParameters.INSTANCE, dbAccess, rs -> {
			name[0] = DBUtil.getString(rs, 2);
		});
		this.id = id;
		this.name = name[0];
	}

	LabelBase(long id, DBTransaction transaction) {
		final String[] name = new String[1];
		if (transaction == null)
			DbBeanInitializer.initialize(id, LabelParameters.INSTANCE, dbAccess, rs -> {
			name[0] = DBUtil.getString(rs, 2);
		});
		else
			DbBeanInitializer.initialize(id, LabelParameters.INSTANCE, transaction, rs -> {
					name[0] = DBUtil.getString(rs, 2);
				});
		this.id = id;
		this.name = name[0];
	}

	LabelBase(long id, String name) {
		this.id = id;
		this.name = name;
	}

	LabelBase(ResultSet rs) {
		this(DBUtil.getBeanID(rs, 1), DBUtil.getString(rs, 2));
	}

	public Label refreshFromDataBase() {
		return new Label(id);
	}

	@Override
	public boolean equals(Object object) {
		if (object instanceof Label)
			return ((Label) object).getId() == id;

		return false;
	}

	@Override
	public int hashCode() {
		return Long.hashCode(id);
	}

	@Override
	public String toString() {
		ToStringMaker stringMaker = new ToStringMaker(this);
		stringMaker.addField("name", name);
		return stringMaker.toString();
	}

	@Override
	public long getId() {
		return id;
	}

	public String getName() {
		return name;
	}

	public boolean isNameEmpty() {
		return Strings.isEmpty(name);
	}

	@Override
	public String getNameForIdNamePairsAndTitles(DbBeanLanguage language) {
		return DBUtil.getHumanReadableTitle(LabelParameters.INSTANCE, id, dbAccess);
	}

	public static List<Label> getAll() {
		return getAll(LabelParameters.INSTANCE.getOrderByFields());
	}

	static List<Label> getAll(String orderBy) {
		return getSelection(null, orderBy, null);
	}

	static List<Label> getSelection(String whereClause) {
		return getSelection(whereClause, null);
	}

	static List<Label> getSelection(String whereClause, DBQuerySetup setup) {
		return getSelection(whereClause, LabelParameters.INSTANCE.getOrderByFields(), setup);
	}

	static List<Label> getSelection(String whereClause, String orderBy, DBQuerySetup setup) {
		return DBUtil.getSelection(LabelParameters.INSTANCE, whereClause, orderBy, setup, Label::getList, dbAccess);
	}

	static long getSelectionCount(String whereClause) {
		return getSelectionCount(whereClause, null);
	}

	static long getSelectionCount(String whereClause, DBQuerySetup setup) {
		return DBUtil.getSelectionCount(LabelParameters.INSTANCE, whereClause, setup, dbAccess);
	}

	public static long getCount() {
		return DBUtil.getFullCount(LabelParameters.INSTANCE, dbAccess);
	}

	public static boolean isIdOK(long id) {
		return DBUtil.isIdOK(LabelParameters.INSTANCE, id, dbAccess);
	}

	public static boolean isIdOK(long id, DBTransaction transaction) {
		return DBUtil.isIdOK(LabelParameters.INSTANCE, id, transaction);
	}

	public static List<Label> getList(ResultSet rs) {
		List<Label> list = new ArrayList<>();

		try {
			while (rs.next())
				list.add(new Label(rs));
		} catch (SQLException sqlex) {
			throw new SQLRuntimeException(sqlex);
		}

		return list;
	}

}
